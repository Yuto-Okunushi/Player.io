Yuto
yuto8085
ã‚ªãƒ³ãƒ©ã‚¤ãƒ³

Yuto â€” 2025/04/26 15:55
å‘½åè¦å‰‡
ã€‡åŠè§’è‹±æ•°å­—ã®ã¿
ã‚­ãƒ£ãƒ©ç´ æ
CH_name_ver001
UIç´ æ
UI_name_ver001
èƒŒæ™¯ç´ æ
BG_name_ver001
ã‚µã‚¦ãƒ³ãƒ‰ç´ æ
ãƒ•ã‚¡ã‚¤ãƒ«ã¯mp3
BGM_name_ver001
SE_name_ver001
Forkã§branchã—ã¦mergeã™ã‚‹æ™‚
ex:20250416nakashimaä½œæ¥­å†…å®¹
Yuto â€” 2025/05/06 21:00
7æ—¥ä»¥é™å®Ÿè£…
[é‡è¦åº¦é«˜ã‚]
ã‚¹ãƒãƒ›ã¨åŒæœŸã•ã›ã‚‹æ–¹æ³•ã‚’æ¤œè¨
ç¾æ™‚ç‚¹ã§ã¯ã€ã‚µã‚¤ãƒˆã‚’ä½¿ã£ã¦è¡Œã†æ–¹æ³•ã‚’æ¤œè¨ã—ã¦ã„ã‚‹

[é‡è¦åº¦ä½ã‚]
ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼èª¬æ˜UIä½œæˆ
Summaryä»•æ§˜ä½œæˆ
ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ä½œæˆ 
Yuto â€” 2025/05/07 13:59
å±æ€§æ±ºã‚ã¯ãƒ©ãƒ³ãƒ€ãƒ 
ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã¯é¸åˆ¥ã§ãã‚‹
ã‚ã‚ã‚ã„ â€” 2025/05/21 12:32
ç”»åƒ
ãªã‚“ã‚Š â€” 11:45
æ·»ä»˜ãƒ•ã‚¡ã‚¤ãƒ«ç¨®é¡ï¼šarchive
a.zip
4.10 MB
Yuto â€” 11:51
https://dcsaitolab.com/
ãªã‚“ã‚Š â€” 12:07
socket.onmessage({ data: "start" });
Yuto â€” 12:21
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>å‹•ç‰©ãƒœã‚¿ãƒ³</title>
</head>
<body>
  <h1>å‹•ç‰©ãƒœã‚¿ãƒ³ã§AWS WebSocketé€šä¿¡</h1>
  <button onclick="send(1)">ã‚«ãƒ</button>
  <button onclick="send(2)">ã‚¦ã‚µã‚®</button>
  <button onclick="send(3)">ãƒ¢ãƒ¢ãƒ³ã‚¬</button>
  <button onclick="send(4)">ãƒ‹ãƒ›ãƒ³ã‚¶ãƒ«</button>

  <script>
    // âœ… WebSocketã‚µãƒ¼ãƒãƒ¼ã®URLï¼ˆNginxçµŒç”±ã€SSLå¯¾å¿œæ¸ˆã¿ï¼‰
    const WS_URL = "wss://ws.dcsaitolab.com";

    // âœ… ã‚°ãƒ­ãƒ¼ãƒãƒ«ãª WebSocket å¤‰æ•°
    let socket;

    // WebSocketæ¥ç¶šå‡¦ç†
    function connectWebSocket() {
      socket = new WebSocket(WS_URL);

      socket.onopen = () => {
        console.log("âœ… WebSocketæ¥ç¶šå®Œäº†");
      };

      socket.onerror = (error) => {
        console.error("âŒ WebSocketã‚¨ãƒ©ãƒ¼:", error);
      };

      socket.onmessage = (event) => {
        console.log("ğŸ“© ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰å—ä¿¡:", event.data);
      };

      socket.onclose = (event) => {
        console.warn("âš ï¸ WebSocketæ¥ç¶šãŒé–‰ã˜ã‚‰ã‚Œã¾ã—ãŸã€‚ã‚³ãƒ¼ãƒ‰:", event.code, "ç†ç”±:", event.reason);
      };
    }

    // ãƒ‡ãƒ¼ã‚¿é€ä¿¡é–¢æ•°
    function send(value) {
      if (socket && socket.readyState === WebSocket.OPEN) {
        socket.send(value.toString());
        console.log("ğŸ“¤ é€ä¿¡:", value);
      } else {
        console.warn("â›” WebSocketãŒæœªæ¥ç¶šã€‚å†æ¥ç¶šã‚’è©¦ã¿ã¾ã™...");
        connectWebSocket();
        // é€ä¿¡ã¯å†æ¥ç¶šå¾Œã«åˆ¥é€”è¡Œã†å¿…è¦ã‚ã‚Šï¼ˆå³é€ä¿¡ã¯ä¸å¯ï¼‰
      }
    }

    // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«æ¥ç¶š
    window.onload = () => {
      connectWebSocket();
    };

    // ãƒšãƒ¼ã‚¸é›¢è„±æ™‚ã«åˆ‡æ–­
    window.onbeforeunload = () => {
      if (socket) {
        socket.close();
      }
    };
  </script>
</body>
</html>
ãªã‚“ã‚Š â€” 12:26
<style>
    body {
        margin: 0;
        padding: 0;
        background-image: url('18.png');
        background-size: 100% 100%;
å±•é–‹
message.txt
12 KB
ï»¿
<style>
    body {
        margin: 0;
        padding: 0;
        background-image: url('18.png');
        background-size: 100% 100%;
        background-position: center;
        background-repeat: no-repeat;
        font-family: sans-serif;
        display: flex;
        justify-content: center;
        align-items: flex-end;
        height: 100vh;
        position: relative;
        overflow: hidden;
    }

    .headline {
        position: absolute;
        top: 40%;
        left: 50%;
        display: none;
        transform: translateX(-50%);
        color: #fff;
        font-size: 1.4rem;
        text-align: center;
        text-shadow: 0 0 5px #5c5045;
        font-weight: bold;
        white-space: nowrap;
        max-width: 100vw;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    .animal-info {
        position: absolute;
        top: 5vh;
        left: 50%;
        transform: translateX(-50%);
        text-align: center;
        color: white;
        text-shadow: 0 0 5px #4b463e;
        max-width: 90vw;
        font-size: 4.5vw;
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .animal-info .title {
        font-size: 5.5vw;
        font-weight: bold;
    }

    .animal-info .description {
        font-size: 3.5vw;
        margin-top: 0.5vh;
    }

    .animal-image {
        width: 40vw;
        max-width: 200px;
        height: auto;
        margin-top: 1vh;
    }

    @media (min-width: 768px) {
        .animal-info .title {
            font-size: 2rem;
        }

        .animal-info .description {
            font-size: 1.2rem;
        }

        .animal-image {
            width: 150px;
        }
    }

    .card-container {
        display: flex;
        flex-direction: column;
        gap: 1rem;
        margin-bottom: 2rem;
        align-items: flex-end;
    }

    .card-button {
        width: 90vw;
        max-width: 400px;
        height: auto;
        position: relative;
        padding: 0;
        margin: 0;
        border: none;
        background: none;
        cursor: pointer;
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 2.0rem;
    }

    .card-button img {
        display: block;
        width: 50%;
        height: 50%;
        transition: transform 0.3s ease, filter 0.3s ease;
    }

    .card-button:hover img {
        transform: scale(1.05);
        filter: brightness(1.1);
    }

    .card-label {
        position: absolute;
        top: 60%;
        left: 50%;
        transform: translate(-50%, -50%);
        color: #280508;
        font-weight: bold;
        pointer-events: none;
        user-select: none;
        font-size: 50%;
        transition: transform 0.3s ease, filter 0.3s ease;
    }

    .card-button:hover .card-label {
        transform: translate(-50%, -50%) scale(1.05);
        filter: brightness(1.1);
    }

    .card-button.disabled {
        opacity: 0.3;
        pointer-events: none;
    }

    .confirmation-modal {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 1000;
    }

    .confirmation-content {
        background: #ede6d0;
        padding: 2rem;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        max-width: 90vw;
    }

    .confirmation-text {
        font-size: 1.5rem;
        margin-bottom: 1.5rem;
        color: #333;
    }

    .confirmation-buttons {
        display: flex;
        gap: 1rem;
        justify-content: center;
    }

    .confirm-btn, .cancel-btn {
        padding: 0.8rem 2rem;
        font-size: 1.2rem;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        transition: background-color 0.3s ease;
    }

    .confirm-btn {
        background: #88b04b;
        color: white;
    }

    .confirm-btn:hover {
        background: #88b04b;
    }

    .cancel-btn {
        background: #a93f2c;
        color: white;
    }

    .cancel-btn:hover {
        background: #a93f2c;
    }

    .overlay {
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background-image: url('17.png');
        background-repeat: repeat;
        background-size: 1500px auto;
        transform: rotate(45deg);
        opacity: 0.2;
        animation: diagonalScroll 40s linear infinite;
        pointer-events: none;
        z-index: 0;
    }

    @keyframes diagonalScroll {
        0% {
            background-position: 0 0;
        }
        100% {
            background-position: 100% 200%;
        }
    }

    .status-message {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        color: white;
        font-size: 1.8rem;
        text-shadow: 0 0 5px #4b463e;
        white-space: nowrap;
    }
</style>

<div class="overlay"></div>

<div class="animal-info">
    <div class="title">ã‚ãªãŸã¯</div>
    <div class="title">ã‚«ãƒ</div>
    <div class="description">æ°´è¾ºã«ä½ã‚€å¤§ããªå‹•ç‰©ã§ã™ã€‚</div>
    <img src="CH_kaba_ver001.png" alt="ã‚«ãƒç”»åƒ" class="animal-image" />
</div>

<div id="headline" class="headline">è­°è«–ã§ä½•ã‚’ã™ã‚‹ï¼Ÿ</div>

<div id="status-message" class="status-message">ã‚¹ãƒˆãƒ¼ãƒªãƒ¼é€²è¡Œä¸­</div>

<div class="card-container" style="display: none;">
    <button class="card-button" onclick="showConfirmation(1, 'è©±ã‚’ã¾ã¨ã‚ã‚‹')">
        <img src="UI_BG_useroptionday_ver001.png" />
        <span class="card-label">è©±ã‚’ã¾ã¨ã‚ã‚‹</span>
    </button>
    <button class="card-button" onclick="showConfirmation(2, 'æ„è¦‹ã‚’è¨€ã†')">
        <img src="UI_BG_useroptionday_ver001.png" />
        <span class="card-label">æ„è¦‹ã‚’è¨€ã†</span>
    </button>
    <button class="card-button" onclick="showConfirmation(3, 'ã‚„ã‚‹ã¹ãã“ã¨ã‚’ä¸»å¼µã™ã‚‹')">
        <img src="UI_BG_useroptionday_ver001.png" />
        <span class="card-label">ã‚„ã‚‹ã¹ãã“ã¨ã‚’ä¸»å¼µã™ã‚‹</span>
    </button>
    <button class="card-button" onclick="showConfirmation(4, 'ã”é£¯ã‚’é£Ÿã¹ã‚‹')">
        <img src="UI_BG_useroptionday_ver001.png" />
        <span class="card-label">ã”é£¯ã‚’é£Ÿã¹ã‚‹</span>
    </button>
</div>

<div id="confirmation-modal" class="confirmation-modal">
    <div class="confirmation-content">
        <div class="confirmation-text">ã“ã‚Œã§æ±ºå®šã™ã‚‹ï¼Ÿ</div>
        <div class="confirmation-buttons">
            <button class="confirm-btn" onclick="confirmAction()"> æ±ºå®šã€€ã€€</button>
            <button class="cancel-btn" onclick="cancelAction()">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</button>
        </div>
    </div>
</div>

<script>
    const WS_URL = "wss://ws.dcsaitolab.com";
    let socket;
    let currentAnimalId = 1;
    let selectedActionId = null;

    const animals = {
        1: { name: "ã‚«ãƒ", description: "æ°´è¾ºã«ä½ã‚€å¤§ããªå‹•ç‰©ã§ã™ã€‚", image: "CH_kaba_ver001.png" },
        2: { name: "ã‚¦ã‚µã‚®", description: "ã´ã‚‡ã‚“ã´ã‚‡ã‚“è·³ã­ã‚‹å¯æ„›ã„å‹•ç‰©ã§ã™ã€‚", image: "CH_usagi_ver001.png" },
        3: { name: "ãƒ¢ãƒ¢ãƒ³ã‚¬", description: "æ»‘ç©ºã™ã‚‹å¤œè¡Œæ€§ã®å‹•ç‰©ã§ã™ã€‚", image: "CH_momonga_ver001.png" },
        4: { name: "ãƒ‹ãƒ›ãƒ³ã‚¶ãƒ«", description: "æ¸©æ³‰ã«å…¥ã‚‹ã“ã¨ã§æœ‰åã§ã™ã€‚", image: "CH_saru_ver001.png" },
    };

    const statusMessage = document.getElementById("status-message");
    const cardContainer = document.querySelector(".card-container");
    const headline = document.getElementById("headline");
    const confirmationModal = document.getElementById("confirmation-modal");

    let dotState = 0;
    let loadingText = "ã‚¹ãƒˆãƒ¼ãƒªãƒ¼é€²è¡Œä¸­";
    setInterval(() => {
        dotState = (dotState + 1) % 4;
        statusMessage.textContent = loadingText + ".".repeat(dotState);
    }, 500);

    function connectWebSocket() {
        socket = new WebSocket(WS_URL);

        socket.onopen = () => {
            console.log("âœ… WebSocketæ¥ç¶šå®Œäº†");
        };

        socket.onerror = (error) => {
            console.error("âŒ WebSocketã‚¨ãƒ©ãƒ¼:", error);
        };

        socket.onmessage = (e) => {
            console.log("ğŸ“© ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰å—ä¿¡:", e.data);
            const value = e.data.trim();

            if (!isNaN(value) && animals[parseInt(value)]) {
                const id = parseInt(value);
                currentAnimalId = id;
                document.querySelectorAll(".animal-info .title")[1].textContent = animals[id].name;
                document.querySelector(".animal-info .description").textContent = animals[id].description;
                document.querySelector(".animal-image").src = animals[id].image;
            }

            if (value === "start") {
                cardContainer.style.display = "flex";
                statusMessage.style.display = "none";
                headline.style.display = "block";
                headline.textContent = "è­°è«–ã§ä½•ã‚’ã™ã‚‹ï¼Ÿ";
                document.querySelectorAll('.card-button').forEach(btn => {
                    btn.classList.remove('disabled');
                });
            } else if (value === "discuss") {
                loadingText = "è­°è«–ä¸­";
                cardContainer.style.display = "none";
                statusMessage.style.display = "block";
                headline.style.display = "none";
            } else if (value === "wait") {
                loadingText = "ã‚¹ãƒˆãƒ¼ãƒªãƒ¼é€²è¡Œä¸­";
                cardContainer.style.display = "none";
                statusMessage.style.display = "block";
                headline.style.display = "none";
            }
        };

        socket.onclose = (event) => {
            console.warn("âš ï¸ WebSocketæ¥ç¶šãŒé–‰ã˜ã‚‰ã‚Œã¾ã—ãŸã€‚ã‚³ãƒ¼ãƒ‰:", event.code, "ç†ç”±:", event.reason);
        };
    }

    function send(actionId) {
        if (socket && socket.readyState === WebSocket.OPEN) {
            const message = JSON.stringify({ senderId: currentAnimalId, actionId });
            socket.send(message);
            console.log("ğŸ“¤ é€ä¿¡:", message);
        } else {
            console.warn("â›” WebSocketãŒæœªæ¥ç¶šã€‚å†æ¥ç¶šã‚’è©¦ã¿ã¾ã™...");
            connectWebSocket();
        }
    }

    function showConfirmation(actionId, actionName) {
        selectedActionId = actionId;
        confirmationModal.style.display = "flex";
    }

    function confirmAction() {
        if (selectedActionId !== null) {
            document.querySelectorAll('.card-button').forEach(btn => {
                btn.classList.add('disabled');
            });

            headline.textContent = "å¾…æ©Ÿä¸­...";
            headline.style.display = "block";

            send(selectedActionId);
            confirmationModal.style.display = "none";
        }
    }

    function cancelAction() {
        selectedActionId = null;
        confirmationModal.style.display = "none";
    }

    window.onload = () => {
        connectWebSocket();
    };

    window.onbeforeunload = () => {
        if (socket) {
            socket.close();
        }
    };
</script>
